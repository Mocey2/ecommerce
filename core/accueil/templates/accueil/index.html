{% extends "base/base.html" %}

{% block content %}
<div class="hero-wrap" style="background-image: url('{{ hero.image_background.url }}');">
  <div class="overlay"></div>
  <div class="container">
    <div class="row no-gutters slider-text align-items-center justify-content-center min-vh-75">
      <div class="col-md-8 ftco-animate d-flex align-items-end">
        <div class="text w-100 text-center pb-5">
          <h1 class="mb-4">{{ hero.titre_principal|safe }}</h1>
          <p>
            <a href="{% url 'produits' %}" class="btn btn-primary py-2 px-4">{{ hero.texte_bouton_1 }}</a>
            <a href="{% url 'about' %}" class="btn btn-white btn-outline-white py-2 px-4">{{ hero.texte_bouton_2 }}</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<section class="ftco-intro py-5">
  <div class="container">
    <div class="row no-gutters">
      {% for card in cards %}
      <div class="col-md-4 d-flex mb-4">
        <div class="intro {{ card.couleur }} d-lg-flex w-100 ftco-animate shadow-sm rounded p-3">
          <div class="icon">
            <span class="{{ card.icone }}"></span>
          </div>
          <div class="text ps-3">
            <h2>{{ card.titre }}</h2>
            <p>{{ card.description }}</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<section class="ftco-section ftco-no-pb pb-5">
  <div class="container">
    <div class="row">
      <div class="col-md-6 img img-3 d-flex justify-content-center align-items-center rounded shadow" style="background-image: url('{{ about.image.url }}'); min-height: 400px;">
      </div>
      <div class="col-md-6 wrap-about pl-md-5 ftco-animate py-5">
        <div class="heading-section">
          <span class="subheading">{{ about.sous_titre }}</span>
          <h2 class="mb-4">{{ about.titre }}</h2>
          <p>{{ about.paragraphe_1 }}</p>
          <p>{{ about.paragraphe_2 }}</p>
          <p class="year mt-4">
            <strong class="number" data-number="{{ about.nombre_annees }}">0</strong>
            <span>Années d'expérience</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="ftco-section ftco-no-pb">
  <div class="container">
    <div class="row">
      {% for produit in produits %}
        {% if forloop.counter <= 6 %}
        <div class="col-lg-2 col-md-4">
          <div class="sort w-100 text-center ftco-animate">
            <div class="img" style="background-image: url('{{ produit.image_liste.url }}'); height: 120px; background-size: cover;"></div>
            <h3>{{ produit.nom }}</h3>
          </div>
        </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>


<section class="ftco-section">
  <div class="container">
    <div class="row justify-content-center pb-5">
      <div class="col-md-7 heading-section text-center ftco-animate">
        <span class="subheading">Nos produits</span>
        <h2>Choisissez le vôtre</h2>
      </div>
    </div>
    <div class="row">
      {% for produit in produits %}
      <div class="col-md-3 d-flex">
        <div class="product ftco-animate">
          <div class="img d-flex align-items-center justify-content-center"
               style="background-image: url('{{ produit.image_liste.url }}');">
            <div class="desc">
              <p class="meta-prod d-flex">
                {% if user.is_authenticated and produit.stock > 0 %}
                  <a href="{% url 'panier-ajout' produit.slug %}" class="d-flex align-items-center justify-content-center">
                    <span class="flaticon-shopping-bag"></span>
                  </a>
                {% endif %}
                <a href="{% url 'produit-detail' produit.slug %}" class="d-flex align-items-center justify-content-center">
                  <span class="flaticon-visibility"></span>
                </a>
              </p>
            </div>
          </div>
          <div class="text text-center">
            {% if produit.est_en_promo %}
              <span class="sale">Promo</span>
            {% endif %}
            <span class="category">{{ produit.categorie.nom }}</span>
            <h2>{{ produit.nom }}</h2>
            <p class="mb-0">
              {% if produit.est_en_promo %}
                <span class="price price-sale">{{ produit.prix|floatformat:0 }} FCFA</span>
                <span class="price">{{ produit.prix_promo|floatformat:0 }} FCFA</span>
              {% else %}
                <span class="price">{{ produit.prix|floatformat:0 }} FCFA</span>
              {% endif %}
            </p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="row justify-content-center">
      <div class="col-md-4">
        <a href="{% url 'produits' %}" class="btn btn-primary d-block">
          Voir tous les produits <span class="fa fa-long-arrow-right"></span>
        </a>
      </div>
    </div>
  </div>
</section>

<section class="ftco-section testimony-section img" style="background-image: url('{{ temoignage_bg.image_fond.url }}');">
  <div class="overlay"></div>
  <div class="container">
    <div class="row justify-content-center mb-5">
      <div class="col-md-7 text-center heading-section heading-section-white ftco-animate">
        <span class="subheading">Témoignages</span>
        <h2 class="mb-3">Ce que disent nos clients</h2>
      </div>
    </div>
    <div class="row ftco-animate">
      <div class="col-md-12">
        <div class="carousel-testimony owl-carousel ftco-owl">
          {% for temoignage in temoignages %}
          <div class="item">
            <div class="testimony-wrap py-4">
              <div class="icon d-flex align-items-center justify-content-center">
                <span class="fa fa-quote-left"></span>
              </div>
              <div class="text">
                <p class="mb-4">{{ temoignage.message }}</p>
                <div class="d-flex align-items-center">
                  <div class="user-img" style="background-image: url('{{ temoignage.photo.url }}')"></div>
                  <div class="pl-3">
                    <p class="name">{{ temoignage.nom }}</p>
                    <span class="position">{{ temoignage.poste }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>

<section class="ftco-section">
  <div class="container">
    <div class="row justify-content-center mb-5">
      <div class="col-md-7 heading-section text-center ftco-animate">
        <span class="subheading">Blog</span>
        <h2>Articles récents</h2>
      </div>
    </div>
    <div class="row d-flex">
      {% for article in articles_recents %}
      <div class="col-lg-6 d-flex align-items-stretch ftco-animate">
        <div class="blog-entry d-flex">
          <a href="{% url 'blog-detail' article.slug %}" class="block-20 img"
             style="background-image: url('{{ article.image_card.url }}');">
          </a>
          <div class="text p-4 bg-light">
            <div class="meta">
              <p><span class="fa fa-calendar"></span> {{ article.date_publication|date:"d F Y" }}</p>
            </div>
            <h3 class="heading mb-3">
              <a href="{% url 'blog-detail' article.slug %}">{{ article.titre|truncatewords:8 }}</a>
            </h3>
            <p>{{ article.intro|truncatewords:20 }}</p>
            <a href="{% url 'blog-detail' article.slug %}" class="btn-custom">
              Continue <span class="fa fa-long-arrow-right"></span>
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>


{% endblock %}
